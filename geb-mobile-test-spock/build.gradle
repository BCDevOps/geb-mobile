dependencies {
    compile project(':geb-mobile')
}

tasks.withType(Test) { task ->
    onlyIf { !Boolean.getBoolean('skip.tests') }
    ignoreFailures = true
    systemProperties.put = System.properties
    outputs.upToDateWhen { false }
}


//*******************
// To use selendroid and iOSDriver, use appium_automationName

task AndroidAppiumBrowserStack(type: Test, dependsOn: [compileGroovy]) {
    systemProperties.put "framework", "appium"
    systemProperties.put "appium_app", "bs://1239edb3b56c9c35c78e361f6a5a788716924754"
    systemProperties.put "appium.url", "https://shellytesting2:y8beASRQzjhXbqbXiqTx@hub.browserstack.com/wd/hub"
    systemProperties.put "appium_platformName", "Android"
    systemProperties.put "appium_deviceName", "Google Pixel"
    systemProperties.put "appium_browserstack.debug", "true"



    // systemProperties.put "appium_javascriptEnabled", "true"
    

    include '**/GebMobileAutomationTestWithPagesSpec.*'
}

//uploading apps:
task uploadAppBS(type: Exec) {

    logger.info("here")
    commandLine = ['echo', 'hihihi']
    // commandLine = ['curl', '-u', "shellytesting2:y8beASRQzjhXbqbXiqTx", '-X', 'POST', "https://api.browserstack.com/app-automate/upload", '-F', "file=@/Users/shellyhan/Downloads/TestDemo/WikipediaSample.apk" ]
}